# BR7: 假期管理（Leaves）

**定位/目的**: 管理員工各類假別與餘額，支持申請、審批、併入薪資扣款與工時規則。

**路由**
- 假期申請：`/hr/leaves`
- 假期審批：`/hr/leaves/review`

---

## 功能需求
- 假別類型：病假、事假、特休、補休、生理假、產檢假、陪產假…（可配置）
- 申請流程：建立申請、附註、上傳附件（證明）、審批（同意/駁回）
- 餘額管理：特休依年資；病假/事假固定額度；補休來自加班產生，採 FIFO 使用
- 與薪資/工時整合：扣款比例、補休使用與到期轉換、工時校驗
- 查詢與匯出：依期間/人員/假別查詢與 CSV 匯出

---

## 驗收標準
- WHEN 員工申請假期 THEN 系統 SHALL 檢查餘額是否足夠並進入審批流程
- WHEN 審批通過 THEN 系統 SHALL 扣減對應餘額（補休採 FIFO）
- WHEN 進行薪資結算 THEN 系統 SHALL 依假別規則執行扣款或免扣

---

## 業務規則
- 特休依年資計算（滿 6 個月 3 天、滿 1 年 7 天…）
- 病假固定 30 天/年，事假固定 14 天/年
- 生理假前 3 天不扣款（年度累計），超過 3 天部分才扣
- 補休到期日為次月最後一天；到期未用自動轉加班費（入薪資）


