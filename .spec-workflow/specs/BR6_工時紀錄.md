# BR6: 工時記錄（Timesheets）

**定位/目的**: 記錄每日工時與任務耗時，支援規則校驗、對帳與匯出，為薪資與績效提供依據。

**路由**
- 工時填寫：`/hr/timesheets`
- 工時審核（可選）：`/hr/timesheets/review`

---

## 功能需求
- 工時填報：選擇日期、類型（正常/加班/請假占比等）、關聯客戶/服務/任務、時數與描述
- 規則校驗：工作日需滿 8 小時（正常工時 + 假別時數）；特定加班類型需具前置加班
- 類型支援：正常工時、平日加班、休息日加班、國定假日加班、例假日加班
- 匯入/匯出：CSV 匯出；（可選）CSV 匯入模板
- 彙總與對帳：依人員/客戶/任務/期間彙總，與任務完成、收據與薪資對帳

---

## 驗收標準
- WHEN 員工填報工時 THEN 系統 SHALL 校驗日期類型與工時類型一致性
- WHEN 員工在工作日填寫加班 THEN 系統 SHALL 校驗已滿 8 小時正常工時（或假別補足）
- WHEN 員工提交工時 THEN 系統 SHALL 生成可追溯紀錄並可供彙總查詢與匯出

---

## 業務規則
- 工作日加班前，必須先滿 8 小時正常工時（正常工時 + 請假時數 >= 8）
- 某些加班類型需先有前置加班（例如：超過 2 小時的段別）
- 國定假日、例假日加班固定補休規則（8 小時）
- 產生補休並入補休池（與薪資/出缺勤互動）


